!function(){"use strict";function e(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function t(t,n){var o=e(t);return function(e,r){return n(o(e),r,t)}}function n(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var o in e)o in t||n.push(t[o]=o)}),n}var o=function(o){function r(n,o){var r,a,c=i(n,function(n,i){if(r)return r(n,i-1);a=n,r=o?t(n,o):e(n)});return c.columns=a,c}function i(e,t){function n(){if(d>=l)return a;if(r)return r=!1,i;var t,n=d;if(34===e.charCodeAt(n)){for(var o=n;o++<l;)if(34===e.charCodeAt(o)){if(34!==e.charCodeAt(o+1))break;++o}return d=o+2,t=e.charCodeAt(o+1),13===t?(r=!0,10===e.charCodeAt(o+2)&&++d):10===t&&(r=!0),e.slice(n+1,o).replace(/""/g,'"')}for(;d<l;){var c=1;if(10===(t=e.charCodeAt(d++)))r=!0;else if(13===t)r=!0,10===e.charCodeAt(d)&&(++d,++c);else if(t!==s)continue;return e.slice(n,d-c)}return e.slice(n)}for(var o,r,i={},a={},c=[],l=e.length,d=0,u=0;(o=n())!==a;){for(var f=[];o!==i&&o!==a;)f.push(o),o=n();t&&null==(f=t(f,u++))||c.push(f)}return c}function a(e,t){return null==t&&(t=n(e)),[t.map(d).join(o)].concat(e.map(function(e){return t.map(function(t){return d(e[t])}).join(o)})).join("\n")}function c(e){return e.map(l).join("\n")}function l(e){return e.map(d).join(o)}function d(e){return null==e?"":u.test(e+="")?'"'+e.replace(/\"/g,'""')+'"':e}var u=new RegExp('["'+o+"\n\r]"),s=o.charCodeAt(0);return{parse:r,parseRows:i,format:a,formatRows:c}},r=o(","),i=r.parse,a=(o("\t"),function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)});document.addEventListener("DOMContentLoaded",function(){var e=!!("ontouchstart"in window)||window.navigator.msMaxTouchPoints>0;document.documentElement.classList.add(e?"touch":"no-touch");var t={homepage:document.querySelector(".section--homepage"),form:document.querySelector(".section--form"),visualizations:document.querySelector(".section--visualizations")},n=function(e){e.classList.remove("section--active"),e.nextElementSibling.classList.add("section--active")};document.querySelector("#homepage-button").addEventListener("click",function(){n(t.homepage)});var o={gender:document.querySelector("#user-gender"),profession:document.querySelector("#user-profession"),country:document.querySelector("#user-country"),salary:document.querySelector("#user-salary")};document.querySelector("#form-button").addEventListener("click",function(){console.log(o.gender.options[o.gender.selectedIndex].value),console.log(o.profession.value),console.log(o.country.value),console.log(o.salary.value),n(t.form)});var r=document.querySelector(".overlay"),c=function(){r.classList.add("overlay--open")},l=function(){r.classList.remove("overlay--open")},d=function(e){e.classList.add("field--open"),c()},u=function(){document.querySelector(".field--open").classList.remove("field--open"),l()};r.addEventListener("click",u);var s=function(e){var t={};t.field=document.createElement("div"),t.field.className="field field--dropdown",t.toggle=document.createElement("a"),t.toggle.className="field__toggle",t.toggle.innerHTML=e.options[e.selectedIndex].innerHTML,t.modal=document.createElement("ul"),t.modal.className="field__modal field--dropdown__list";var n="";e.querySelectorAll("option").forEach(function(t,o){n+=e.selectedIndex===o?"<li class='field--dropdown__list-item field--dropdown__list-item--checked'>"+t.innerHTML+"</li>":"<li class='field--dropdown__list-item'>"+t.innerHTML+"</li>"}),t.modal.innerHTML=n,t.field.appendChild(t.toggle),t.field.appendChild(t.modal),e.parentNode.insertBefore(t.field,e),e.style.display="none";var o=function(e){e.preventDefault(),e.stopPropagation(),d(t.field)};t.toggle.addEventListener("click",o),t.toggle.addEventListener("touchstart",o);var r=function(n,o){n.preventDefault();var r=0,i=null,a=t.modal.querySelector(".field--dropdown__list-item--checked");for(r=0,i=a,r=0;i=i.previousSibling;r++);for(a.classList.remove("field--dropdown__list-item--checked"),e.options[r].removeAttribute("selected"),r=0,i=o,r=0;i=i.previousSibling;r++);o.classList.add("field--dropdown__list-item--checked"),e.options[r].setAttribute("selected","selected"),t.toggle.innerHTML=o.innerHTML,u()},i=t.modal.querySelectorAll(".field--dropdown__list-item");[].concat(a(i)).forEach(function(e){e.addEventListener("click",function(t){r(t,e)}),e.addEventListener("touchstart",function(t){r(t,e)})})},f=function(e){var t={};t.field=document.createElement("div"),t.field.className="field field--text",t.toggle=document.createElement("a"),t.toggle.innerHTML=e.placeholder,t.toggle.className="field__toggle",t.modal=document.createElement("ul"),t.modal.className="field__modal",t.input=document.createElement("input"),t.input.setAttribute("type","text"),t.input.placeholder=e.placeholder,t.input.className="field--text__input",t.inputWrapper=document.createElement("li"),t.inputWrapper.className="field--text__input-wrapper",t.go=document.createElement("button"),t.go.className="field--text__go",t.go.innerHTML="<img alt='' src='images/icons/arrow.svg'>",t.inputWrapper.appendChild(t.input),t.inputWrapper.appendChild(t.go),t.example=document.createElement("li"),t.example.className="field--text__example",t.example.innerHTML=e.getAttribute("data-subline"),t.modal.appendChild(t.inputWrapper),t.modal.appendChild(t.example),t.field.appendChild(t.toggle),t.field.appendChild(t.modal),e.parentNode.insertBefore(t.field,e),e.style.display="none";var n=function(e){e.preventDefault(),e.stopPropagation(),d(t.field),t.input.focus()};t.toggle.addEventListener("click",n),t.toggle.addEventListener("touchstart",n);var o=function(n){n.preventDefault(),t.input.blur(),t.toggle.innerHTML=""!==t.input.value.trim()?t.input.value:t.input.placeholder,e.value=t.toggle.innerHTML,u()};t.inputWrapper.addEventListener("keydown",function(e){13===e.keyCode&&o(e)}),t.go.addEventListener("click",o),t.go.addEventListener("touchstart",o)};fetch("data/data.csv").then(function(e){return e.text()}).then(function(e){for(var n=i(e),r=n.map(function(e){return e.country}),c=0;c<r.length/2;c++)o.country.insertAdjacentHTML("beforeend","<option>"+r[c]+"</option>");var l=document.querySelectorAll("select"),d=document.querySelectorAll("input");[].concat(a(l)).forEach(function(e){return s(e)}),[].concat(a(d)).forEach(function(e){return f(e)});var u=t.form.querySelector(".form__paragraph"),m=u.querySelectorAll(".field"),p=function(){[].concat(a(m)).forEach(function(e){e.querySelector(".field__modal").style.left=-(e.offsetLeft-u.offsetLeft)+"px"})};p(),window.addEventListener("resize",p)}).catch(function(e){return console.error(e)});var m=(document.querySelector("#calendar-view-button"),document.querySelector("#clock-view-button"),document.querySelector("#your-gap-button"),function(e){document.querySelector(".slider__item--active").classList.remove("slider__item--active"),document.querySelectorAll(".slider__item")[e].classList.add("slider__item--active")}),p=document.querySelectorAll(".sidebar__navigation-button");[].concat(a(p)).forEach(function(e,t){e.addEventListener("click",function(){document.querySelector(".sidebar__navigation-button--active").classList.remove("sidebar__navigation-button--active"),p[t].classList.add("sidebar__navigation-button--active"),document.querySelectorAll(".slider__navigation-dot")[t].click(),m(t)})});var v=document.querySelectorAll(".slider__navigation-dot");v.forEach(function(e,t){e.addEventListener("click",function(){document.querySelector(".slider__navigation-dot--active").classList.remove("slider__navigation-dot--active"),v[t].classList.add("slider__navigation-dot--active"),document.querySelectorAll(".sidebar__navigation-button")[t].click(),m(t)})});var g=(document.querySelector("#calendar-gap-visualization"),document.querySelector("#clock-gap-visualization"),document.querySelector("#your-gap-visualization"),document.querySelector("#menu-button")),_={sidebar:document.querySelector(".layout__sidebar")},y={closeButton:document.querySelector(".sidebar__close-button")};g.addEventListener("click",function(){_.sidebar.classList.add("layout__sidebar--active")}),y.closeButton.addEventListener("click",function(){_.sidebar.classList.remove("layout__sidebar--active")})})}();